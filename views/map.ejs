<!-- Toggle: kaart <-> tabel -->
<div class="view-toggle">
  <label class="switch">
    <input id="toggleView" type="checkbox" />
    <span class="switch__slider"></span>
  </label>
  <span id="toggleText">Show table</span>
</div>

<!-- MAP VIEW -->
<div id="mapView" class="view is-active">
  <div class="map-wrapper">
    <div class="kumasi-map"></div>

    <div class="slider-container">
      <p class="date-label">Loading...</p>
      <input
        type="range"
        class="time-slider"
        min="0"
        max="10"
        step="1"
        value="0"
      />

      <div class="slider-labels">
        <span>Oldest</span>
        <span>Newest</span>
      </div>
    </div>
  </div>
</div>

<!-- TABLE VIEW -->
<div id="tableView" class="view">
  <label>
    Period
    <select id="periodFilter">
      <option value="">(choose)</option>
    </select>
  </label>
  <div class="table-filters">
    <label>
      Search
      <input id="qFilter" type="text" placeholder="Location ID or name" />
    </label>

    <label>
      Min NO₂
      <input id="minNo2" type="number" step="0.1" placeholder="e.g. 10" />
    </label>

    <label>
      Max NO₂
      <input id="maxNo2" type="number" step="0.1" placeholder="e.g. 40" />
    </label>

    <label class="checkbox">
      <input id="hideNoData" type="checkbox" />
      Hide “No data”
    </label>

    <button id="resetFilters" class="btn btn--ghost" type="button">
      Reset
    </button>
  </div>

  <div class="table-wrap">
    <table class="data-table">
      <thead>
        <tr>
          <th>Location ID</th>
          <th>Name</th>
          <th>Period</th>
          <th>NO₂</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        <tr>
          <td colspan="4">Loading…</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    // ----------------------------
    // View toggle: map <-> table
    // ----------------------------
    const toggle = document.getElementById("toggleView");
    const toggleText = document.getElementById("toggleText");
    const mapView = document.getElementById("mapView");
    const tableView = document.getElementById("tableView");

    function setView(showTable) {
      if (showTable) {
        mapView.classList.remove("is-active");
        tableView.classList.add("is-active");
        toggleText.textContent = "Show map";
      } else {
        tableView.classList.remove("is-active");
        mapView.classList.add("is-active");
        toggleText.textContent = "Show table";

        // Leaflet needs this when container was hidden
        if (window.__leafletMap && window.__leafletMap.invalidateSize) {
          setTimeout(() => window.__leafletMap.invalidateSize(), 150);
        }
      }
    }

    toggle.addEventListener("change", () => setView(toggle.checked));
    setView(false);
  </script>

  <!-- Jouw bestaande Leaflet code blijft hier -->
  <script src="/js/map.js"></script>
</div>
